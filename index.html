<!DOCTYPE html>
<html><head></head><main>

        <script>
            // Computer play Functional and returns
            function computerPlay() {                
                let randomized = Math.floor(Math.random() * 3);
                let choice = "";
                switch (randomized) {
                    case 0:
                        choice = "Rock"
                        break;
                    case 1:
                        choice = "Paper"
                        break;
                    case 2:
                        choice = "Scissors"
                    }
                return choice;                
            }

            //playerSelection resultou e retornou valor
            function playerSelection () {
                var player = prompt("Pick your 'weapon'");
                player = player.charAt(0).toUpperCase() + player.slice(1).toLowerCase();
                if (player === "Rock" || player === "Paper" || player === "Scissors"){
                    return player;
                } else                    
                    alert("Please make a valid choice");
                    playerSelection();
                    
            }

            function playRound(hum, pc) {
                if (pc === hum) {
                    console.log("This is a draw. Draw again") 
                    } 
                    switch (hum){
                        case "Rock":
                            switch(pc){
                                case "Paper":
                                    console.log("You Lose! " + pc + " beats " + hum );
                                    return 0;  //Pc wins;
                                    break; 
                                case "Scissors":
                                    console.log("You Win! " + hum + " beats " + pc)
                                    return 1;
                            }
                        break;

                        case "Paper": 
                            switch(pc){
                                case "Scissors":
                                    console.log("You Lose! " + pc + " beats " + hum );
                                    return 0;
                                    break;
                                case "Rock":
                                    console.log("You Win! " + hum + " beats " + pc)
                                    return 1; 
                            }
                        break;

                        case "Scissors": 
                            switch(pc){
                                case "Rock":
                                    console.log("You Lose! " + pc + " beats " + hum );
                                    return 0;
                                    break;
                                case "Paper":
                                    console.log("You Win! " + hum + " beats " + pc)
                                    return 1;   
                            }
                        break
                    }                      
                }
            
                
                

            function game() {
                let pc = 0;
                let hum = 0;
                for(var i = 0; i < 5; i++) {
                    let gameOn = playRound(playerSelection(), computerPlay())
                    if (gameOn == 1) {
                        hum++
                        } 
                        else if(gameOn == 0){
                            pc++;
                            }
                    console.log("Results pc: " + pc + " human " + hum)
                    //i++;
                }
            
               if (pc === hum) {
                    alert("This match is tied. Next winner takes it all")
                    let final= playRound(playerSelection(), computerPlay())
                    if (final == 1) {console.log("Human Wins")} 
                        else if(final == 0){console.log("Computer Wins");}
                    console.log("Results pc: " + pc + " human " + hum)
                } else if(pc > hum) {
                    console.log("Computer Wins")
                } else console.log("Human Wins")
            }
                
                
            
        </script>

</main></html>